<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

    <style>
        .main{height: 100vh; position: relative;}
        .imgs{
            position: relative;
            width: 520px; height: 607px; margin: 5vh auto 0;}
        .imgs>img{position: absolute; left: 0; right: 0; top: 0; bottom: 0;}
    </style>
</head>

<body>
    <div class="top" style="height:100vh; background-color: gray;"></div>

    <div class="main">
        <div class="imgs">
            <img src="./image/body.png" alt="몸통" class="몸통">
            <img src="./image/stomach.png" alt="허리" class="허리">
            <img src="./image/leftarm.png" alt="왼팔" class="왼팔">
            <img src="./image/rightarm.png" alt="오른팔" class="오른팔">
            <img src="./image/leftleg.png" alt="왼발" class="왼발">
            <img src="./image/rightleg.png" alt="오른발" class="오른발">
            <img src="./image/head.png" alt="머리" class="머리">
        </div>
    </div>

    <div class="bottom" style="height:100vh; background-color: gray;"></div>

<!-- ---------------------SCRIPT-------------------------------------->

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script>
        gsap.registerPlugin(ScrollTrigger);


        let tl = gsap.timeline({
                ScrollTrigger:{
                trigger:".main",
                start:"center 100%",
                end:"top top", //내 머리가 화면의 머리에 부딪힐 때 애니메이션이 끝나라
                markers:true,
                //scrub:true,

                //🧾toggleActions --> 영역에 도착했을 때 애니메이션이 실행되는 것
                //toggleActions:"진입시/ 떠났을 때/ back(거꾸로)으로 진입/ back으로 진입시(거꾸로) 떠났을 때"
                //toggleActions:"onEnter onLeave onEnterBack onLeaveBack"
                //toggleActions:"play none none none"
                //toggleActions:"play none restart none" //Back으로 진입할 때 다시 실행
                toggleActions:"play pause resum none" //resum은 멈춘상태에서 다시 시작
            }
        });//애니메이션 멈춤
        
        tl.from('.몸통', {
            duration: 1,
            opacity: 0,
            x: 100,
            y: -100,
            ease: "back.out(0.8)",
        })
        tl.from('.허리', {
            duration: 1,
            opacity: 0,
            y: 150,
            ease: "back.out(0.8)",
        }, "-=0.5") //마지막 값 : delay값(1초보다는 반 늦게 오게함
        tl.add('test')
        tl.from('.왼팔', {
            duration: 1,
            opacity: 0,
            x: -150,
            ease: "back.out(0.8)"
        })
        tl.from('.오른팔', {
            duration: 1,
            opacity: 0,
            x: 150,
            ease: "back.out(0.8)"
        })
        tl.from('.왼발', {
            duration: 1,
            opacity: 0,
            y: -150,
            ease: "back.out(0.8)"
        })
        tl.from('.오른발', {
            duration: 1,
            opacity: 0,
            x: -150,
            ease: "back.out(0.8)"
        })
        tl.from('.머리', {
            duration: 1,
            opacity: 0,
            y: -150,
            ease: "back.out(0.8)"
        })

    </script>
</body>

</html>